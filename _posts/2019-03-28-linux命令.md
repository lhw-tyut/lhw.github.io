---
layout:     post
title:      linux命令
subtitle:   工作中常用到的命令
date:       2019-03-04
author:     永泉狂客
header-img: img/post-bg-universe.jpg
catalog: true
tags:
    - linux
---
## 一、磁盘分区信息
#### 1.partprobe
不重启的情况下重读分区

##### 补充说明
partprobe命令 用于重读分区表，当出现删除文件后，出现仍然占用空间。可以partprobe在不重启的情况下重读分区。
```
- -d：不更新内核；
- -s：显示摘要和分区；
- -h：显示帮助信息；
- -v：显示版本信息。
```
使用fdisk工具只是将分区信息写到磁盘，如果需要mkfs磁盘分区则需要重启系统，而使用partprobe则可以使kernel重新读取分区信息，从而避免重启系统。

## 二、磁盘分区
#### 1. sgdisk
1）安装sgdisk
```
yum install gdisk
```
2) 查看分区
```
sgdisk -p /dev/sdb
```
[![ZeORSS.png](https://s2.ax1x.com/2019/06/26/ZeORSS.png)](https://imgchr.com/i/ZeORSS)
3) 删除所有分区
```
[-z|--zap] [-Z|--zap-all]
sgdisk -Z /dev/sda
```
4) 创建分区
```
sgdisk -n 3:17188863:20188863 -t 3:8300 -p /dev/sda
```
[![ZevPMD.png](https://s2.ax1x.com/2019/06/26/ZevPMD.png)](https://imgchr.com/i/ZevPMD)
5)
